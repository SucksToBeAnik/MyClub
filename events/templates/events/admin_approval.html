{% extends 'events/base.html' %}


{% block content %}
  
<h1 class="display-3 text-center">Event Approval Portal</h1><br>
<h2 class="display-4 text-center">You have {{ pending }} unapproved Events</h2>

<div class="card">
    <div class="card-header"><h3>Admin Dashboard</h3></div>
    <div class="card-body">
        <ul>
            <li>Total events: {{ event_count }}</li><br>
            <li>Total Venues: {{ venue_count }}</li><br>
            <li>Total users: {{ user_count }}</li><br>
        </ul>
    </div>
</div>

<form action="" method="POST">
    {% csrf_token %}
<table class="table table-striped table-hover table-bordered">
    <thead>
        <tr>
            <th>Event</th>
            <th>Approved</th>
        </tr>
    </thead>
    <tbody>
        {% for event in event_list %}
        <tr>
            <td>{{ event }}</td>
            <td>
                {% if event.approved %}
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" checked="checked" value="{{ event.id }}" name="boxes">
                </div>

                {% else %}
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" value="{{ event.id }}" name="boxes">
                </div>
                {% endif %}
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
<br>
<input type="submit" value="Update Approvals" class="btn btn-secondary">

</form>

{% endblock %}